<div class="row">
  <div class="col-md-12">
    <div class="panel panel-inverse" data-sortable-id="form-stuff-11">
      <div *ngIf="globals.menuDinamico.admin_next && !id_centro_costos" class="form-group col-md-4 ">
        <!-- <label>Seleccione un Corporativo</label> -->
        <select2 [data]="globals.lista_corporativos" [options]="{placeholder: 'Seleccione un corporativo'}"
          (valueChanged)="ActualizaCorporativo($event)" id="selec2_corporativo"> </select2>
      </div>

      <div class="panel-body">
        <form [formGroup]="formulario_centro_costos">
          <fieldset>
            <legend class="p-b-15" style="font-size:1rem">{{titulo}}</legend>
            <div class="form-row">
              <div class=" col-md-3">
                <label for="nombre">Nombre <span class="requerido">*</span></label>
                <input placeholder="Nombre" type="text" class="form-control" [(ngModel)]="centro_costos.nombre"
                  maxlength="255" name="nombre" id="nombre" formControlName="nombre" />
                <div
                  *ngIf="formulario_centro_costos.get('nombre').status == 'INVALID' && formulario_centro_costos.get('nombre').touched == true"
                  class="text-danger">
                  <small>Campo Requerido</small>
                </div>
              </div>
              <div class=" col-md-3">
                <label for="codigo">Código <span class="requerido">*</span> </label>
                <input placeholder="Código" type="text" class="form-control" maxlength="15" name="codigo"
                [readOnly]="codigo_automatico ? true : null"
                  [value]="centro_costos.codigo" id="codigo" formControlName="codigo"
                  [(ngModel)]="centro_costos.codigo"
                  >
                <div
                  *ngIf="formulario_centro_costos.get('codigo').status == 'INVALID' && formulario_centro_costos.get('codigo').touched == true"
                  class="text-danger">
                  <small>Campo Requerido</small>
                </div>
              </div>

              <div class="col-md-3">
                <label for="emisor">Contribuyente <span class="requerido">*</span> </label>
                <select2 [data]="array_contribuyentes" [value]="startValue_emisor" [disabled]="id_centro_costos"
                  [options]="{placeholder: 'Seleccione un Contribuyente'}" (valueChanged)="ActualizarEmisor($event)"
                  name="emisor" id="emisor"> </select2>
              </div>

              <div class="col-md-3">
                <label for="sucursal">Sucursal <span class="requerido">*</span> </label>
                <select2 [data]="array_sucursal" [value]="startValue_sucursal" [disabled]="id_centro_costos"
                  [options]="{placeholder: 'Seleccione una Sucursal'}" (valueChanged)="ActualizarSucursal($event)"
                  name="sucursal" id="sucursal"> </select2>
              </div>

              <div class="col-md-3 pt-2">
                <label for="sucursal">Departamento <span class="requerido">*</span> </label>
                <select2 [data]="array_departamento" [value]="startValue_departamento" [disabled]="id_centro_costos"
                  [options]="{placeholder: 'Seleccione un Departamento'}"
                  (valueChanged)="ActualizarDepartamento($event)" name="departamento" id="departamento"> </select2>
              </div>

              <div class="col-md-2 pt-2">
                <div class="switcher p-t-10">
                  <input type="checkbox" formControlName="estatus" id="estatus" name="estatus"
                    [checked]="centro_costos.estatus" [(ngModel)]="centro_costos.estatus">
                  <label for="estatus">Estatus</label>
                </div>
              </div>
            </div>
            <div class="form-group row">
              <div class=" col-sm-12 text-right">
                <a id="cancelarCentroCosto" routerLink="/home/centro_costos/" class="btn btn-sm btn-danger">Cancelar</a>
                <button id="guardarCentroCosto" class="btn btn-sm btn-primary m-r-5 " style="margin-left: 10px;"
                  (click)="ActualizarCentroCostos();" [disabled]='!formulario_centro_costos.valid
                  || centro_costos.emisor_identificador === ""
                  || centro_costos.sucursal_identificador === ""
                  || centro_costos.identificador_departamento === "" ' [innerHTML]="txtBtnAgregar"></button>
              </div>
            </div>
          </fieldset>
        </form>
      </div>
    </div>
  </div>
</div>

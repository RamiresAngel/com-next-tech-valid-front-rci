<div class="col-sm-12 col-md-10 col-lg-8 mx-auto">
  <form [formGroup]="formulario_header" class="row">
    <div class="row">
      <div class="col ">
        <div class="card border border-info" style="width: auto; height: 100%;">
          <div class="card-body">
            <div class="form-row">
              <div class="form-group col-xs-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                <label for="unidad_responsable">Unidad Responsable <span class="requerido">*</span> </label>
                <select2 #selectSucursal [data]="lista_contribuyentes" [options]="{placeholder: ''}"
                  (valueChanged)="onContrbiuyenteSeleccionado($event)" name="unidad_responsable"
                  id="unidad_responsable">
                </select2>
                <!-- <input type="text" formControlName="unidad_responsable" class="form-control" id="unidad_responsable"
                  maxlength="50"> -->
              </div>
              <div class="form-group col-xs-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                <label for="sucursal">Sucursal <span class="requerido">*</span> </label>
                <select2 [data]="lista_sucursales" [options]="{placeholder: ''}"
                  (valueChanged)="onSucursalSeleccionado($event)" name="sucursal" id="sucursal">
                </select2>
              </div>
              <div class="form-group col-xs-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                <label for="unidad_responsable">Correo Electrónico <span class="requerido">*</span> </label>
                <input type="email" class="form-control" formControlName="correo" id="unidad_responsable"
                  maxlength="50">
              </div>
              <div class="form-group col-xs-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                <label for="fecha_recepcion">Fecha Recepción <span class="requerido">*</span> </label>
                <my-date-picker #fecha_recepcion name="fecha_recepcion" id="fecha_recepcion"
                  [options]="disabledDataPcickerOptions"
                  (dateChanged)="onFechaRecepcionSelected($event, 'fecha_recepcion')">
                </my-date-picker>
              </div>
              <div class="form-group col-xs-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                <label for="fecha_pago">Fecha de Pago <span class="requerido">*</span> </label>
                <my-date-picker name="fecha_pago" id="fecha_pago" placeholder="" [options]="globals.myDatePickerOptions"
                  (dateChanged)="onFechaRecepcionSelected($event, 'fecha_pago')" required>
                </my-date-picker>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>

  <form class="mt-3" [formGroup]="formulario_documentos">
    <div class="row">
      <div class="col-sm-12 col-md-10 col-lg-8">
        <div class="row">
          <div class="col-sm-12 col-md-6">
            <div class="form-row">
              <div class="form-group col-12">
                <label>XML <span class="requerido">*</span> </label>
                <div class="input-group input-file" name="xml_nc">
                  <span class="input-group-btn">
                    <label class="btn btn-block btn-primary">Archivo
                      <input #input for="archivo" accept=".xml, .XML" type="file" style="display: none;"
                        (change)="cargarArchivo( input, input_txt, 'xml')">
                    </label>
                  </span>
                  <input #input_txt type="text" disabled class="form-control" placeholder='' id="archivo"
                    name="archivo" />
                </div>
              </div>

              <div class="form-group col-12">
                <label>PDF <span class="requerido">*</span> </label>
                <div class="input-group input-file" name="xml_nc">
                  <span class="input-group-btn">
                    <label class="btn btn-block btn-primary">Archivo
                      <input #input_pdf for="archivo" accept=".pdf,.PDF" type="file" style="display: none;"
                        (change)="cargarArchivo( input_pdf, input_pdf_txt, 'pdf')">
                    </label>
                  </span>
                  <input #input_pdf_txt type="text" disabled class="form-control" placeholder='' id="archivo"
                    name="archivo" />
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="usuario.aprobador == 1  && nivel_aprobacion == 1 " class="col-sm-12 col-md-6">
            <div class="form-row">
              <div class="form-group col-12">
                <label for="unidad_responsable">Ingresar Cuenta Contable<span class="requerido">*</span> </label>
                <input type="text" class="form-control" formControlName="cuenta_contable" id="unidad_responsable"
                  maxlength="50">
              </div>
              <div class="form-group col-12 mt-2">
                <label for="unidad_responsable">Ingresar Site <span class="requerido">*</span> </label>
                <input type="email" class="form-control" formControlName="site" id="unidad_responsable" maxlength="50">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
  <div class="row">
    <button [disabled]="!formulario_header.valid || !formulario_documentos.valid" class="btn btn-primary"
      (click)="cargarDocumento()"> cargar </button>
  </div>
</div>

<!-- Button trigger modal -->
<button type="button" (click)="mostrarModal()" class="btn btn-primary" data-toggle="modal">
  Actualizar PDF
</button>
<app-modal-acutalizar-documento id="modal" titulo="Actualizar Archivo"></app-modal-acutalizar-documento>
<form [formGroup]="formulario_header" (submit)="submitForm()" autocomplete="off">
  <fieldset>
    <legend class="p-b-15" style="font-size:1rem">Reembolso de {{title}}</legend>
    <div class="form-row">
      <div class="col-lg-3 col-md-4 col-sm-6 mt-2">
        <label for="usuario">Nombre del Usuario</label>
        <input formControlName="nombre_usuario" [(ngModel)]="header_comprobante.nombre_usuario" type="text"
          class="form-control" id="usuario" readonly>
      </div>

      <div class="col-lg-3 col-md-4 col-sm-6 mt-2">
        <label for="compania">Compañía <span class="requerido">*</span></label>
        <!-- <select2 [data]="lista_contribuyentes" [options]="{placeholder: 'Seleccione un Compañía'}"
          [value]="contribuyente_value" [disabled]="numero_comprobacion"
          (valueChanged)="onContribuyenteSelected($event)" name="cnetro_costos" id="cnetro_costos">
        </select2> -->
        <select class="form-control" formControlName="contribuyente" name="corporativo"
          [(ngModel)]="header_comprobante.identificador_compania">
          <option *ngFor="let item of lista_contribuyentes"
            [attr.selected]="item.identificador ==  header_comprobante.identificador_compania ? true : null ">{{
            item.text }}</option>
        </select>
      </div>

      <div class="col-lg-3 col-md-4 col-sm-6 mt-2">
        <label for="cnetro_costos">Centro de Costos <span class="requerido">*</span> </label>
        <!-- <select2 [data]="lista_centros_costo" [cssImport]=true [value]="centro_costo_value"
          [options]="{placeholder: 'Seleccione un Centro de Costo'}" class="left" [disabled]="true"
          (valueChanged)="onCECOSelected($event)" name="centro_costos" id="cnetro_costos">
        </select2> -->
        <select class="form-control" formControlName="centro_costos" name="corporativo"
          [(ngModel)]="header_comprobante.identificador_cc">
          <option *ngFor="let item of lista_centros_costo"
            [attr.selected]="item.identificador ==  header_comprobante.identificador_cc ? true : null ">{{
            item.centro_consumo }}</option>
        </select>
      </div>

      <div class="col-lg-3 col-md-4 col-sm-6 mt-2">
        <label for="aprobador">Aprobador<span class="requerido">*</span></label>
        <input formControlName="aprobador" [(ngModel)]="header_comprobante.nombre_usuario_aprobador" type="text"
          class="form-control" id="monto_reembolsar" readonly>
      </div>

      <div class="col-lg-3 col-md-4 col-sm-6 mt-2">
        <label for="moneda">Moneda <span class="requerido">*</span> </label>
        <select2 [data]="lista_monedas" [options]="{placeholder: 'Seleccione una moneda'}" [value]="moneda_value"
          [disabled]="numero_comprobacion" (valueChanged)="onMonedaSelected($event)" name="moneda" id="moneda">
        </select2>
      </div>

      <div class="col-lg-3 col-md-4 col-sm-6 mt-2">
        <label for="tipo_cambio">Tipo Cambio<span class="requerido">*</span></label>
        <input currencyMask type="text" formControlName="tipo_cambio" maxlength="10"
          [(ngModel)]="header_comprobante.tipo_cambio" class="form-control" id="tipo_cambio">
      </div>
      <div *ngIf="title === 'Gastos de Viaje'" class="col-lg-3 col-md-4 col-sm-6 mt-2">
        <label for="destino">Destino<span class="requerido">*</span></label>
        <input type="text" formControlName="destino" maxlength="50" [(ngModel)]="header_comprobante.descripcion"
          class="form-control" id="destino">
      </div>
      <div class="col-lg-3 col-md-4 col-sm-6 mt-2">
        <div class="form-group">
          <label for="motivo">Motivo <span class="requerido">*</span></label>
          <textarea class="form-control" formControlName="motivo" maxlength="500" id="motivo" rows="3"
            [(ngModel)]="header_comprobante.motivo"></textarea>
        </div>
      </div>
      <div class="col-lg-3 col-md-4 col-sm-6 mt-2">
        <div class="switcher">
          <input type="checkbox" formControlName="recuperable" [(ngModel)]="header_comprobante.recuperable" id="activo"
            name="activo" />
          <label for="activo">Recuperable</label>
        </div>
      </div>

    </div>
  </fieldset>
  <div class="row">
    <div class="col  text-right ">
      <button *ngIf="!numero_comprobacion" type="button" (click)="cancelarComprobacion()"
        class="btn btn-danger ml-auto mr-2">Cancelar</button>
      <button *ngIf="header_comprobante!.estatus!.toLowerCase() == 'borrador' || !header_comprobante.estatus"
        [disabled]="(!formulario_header.valid || numero_comprobacion) &&  !header_comprobante.id" type="submit"
        class="btn btn-primary ml-auto">Continuar</button>
    </div>
  </div>
</form>
